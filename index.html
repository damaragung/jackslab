<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Jack's Lab test</title>
 
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/mystyle.css" rel="stylesheet">
  </head>
  <body>	
	<nav class="navbar navbar-default navbar-fixed-top"><!-- Navbar -->
		<div class="container-fluid">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-target">
					<span class="sr-only">Toggle navigation</span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
				</button>
				<a class="navbar-brand" href="#" data-toggle="collapse" data-target="#navbar-collapse-target">
					<img src="img/logo.png" alt="" />
				</a>
			</div>
			
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse navbar-right" id="navbar-collapse-target">
				<ul class="nav navbar-nav">
					<li><a href="#">Market</a></li>
					<li><a href="#">Mooks</a></li>
				</ul>
			</div><!-- /.navbar-collapse -->
		</div><!-- /.container-fluid -->
	</nav><!-- ./Navbar -->
		
			
	<div class="container">
		<h1>Hello, world!</h1>


		<div class="row">
		  	<div class="col-lg-6">
			    <form id="messageForm" role="">
				  <div class="form-group">
				  	<input type="text" name="message" class="form-control" placeholder="Input text">
				  </div>
				  <button type="submit" class="btn btn-default">Submit</button>
				</form>
			</div>
		</div><!-- /.row -->
		<div class="row">
		  	<div class="col-lg-6">
				<div id="messageBox" class="alert alert-success" role="alert">Parse Object data will be displayed here</div>
				<button id="btnRetrieve" type="submit" class="btn btn-default">Retrieve</button>
			</div>
		</div><!-- /.row -->
	</div>
 
    <!-- jQuery -->
    <script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>	
    <!-- bootstrap js -->
    <script type="text/javascript" src="js/bootstrap.min.js"></script>	
    <!-- parse js -->
    <script type="text/javascript" src="js/parse-1.5.0.min.js"></script>
	<script type="text/javascript">
		Parse.initialize("ZOyg51NksyxcHYWfJ1mbDRnOUnB6EpchgzqLPd09", "Zo2Gp5vxkEl4Ls2TFb8rPWHKExWWKDoEr6cNtvpV");

		// create a new subclass of Parse.Object.
		var MessageData = Parse.Object.extend("TestMessage");

		//create new Parse object
    	parseMsg = new MessageData();

    	//create submit form function 
		$('#messageForm').submit(function(e){
			//on form submit
  			e.preventDefault();

  			//get data from form
		    var data = {
		        message: $(e.target).find("[name='message']").val()
		    }

    		//match the key values from the form, to your parse class, then save it
			parseMsg.save({
			    message: data.message
			}, {
			    //if successful
			    success: function(parseMsg){
			    	alert(parseMsg.get('message') + " successfully saved to Parse.")
			    },

			    error: function(parseMsg, error) {
			        console.log(parseMsg);
			        console.log(error);
			    }
			})
		});

		//assign trigger to retrieve button to get parseMsg
		$( "#btnRetrieve" ).on( "click", function() {
			$("#messageBox").html(parseMsg.get('message'));
		});

	</script>	
  </body>
</html>